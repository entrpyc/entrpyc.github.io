{"version":3,"sources":["components/IconStar.js","helpers/favourites.js","components/BeerPreview.js","components/SearchBar.js","components/BeerList.js","views/Home.js","views/Favourites.js","components/NavBar.js","App.js","index.js"],"names":["IconStar","props","xmlns","width","height","viewBox","fill","d","KEY","getFavouriteBeers","transformToArray","beers","localStorage","getItem","split","updateFavouriteBeers","beersArray","params","filter","beer","toString","trim","join","setItem","checkIfBeerIsInFavourite","id","includes","toggleBeerInFavourite","beerList","removeBeerFromFavourite","push","addBeerToFavourite","BeerPreview","state","ready","favourite","handleFavouritesClick","setState","this","image_url","name","description","className","src","alt","onClick","React","Component","SearchBar","search","onSubmit","updateSearch","type","placeholder","value","onChange","e","target","BeerList","data","page","disableScroll","getBeerList","a","queryObject","query","beer_name","replace","undefined","per_page","JSON","parse","stringify","queryParams","URLSearchParams","fetch","then","response","json","onSearchSubmit","preventDefault","handleScroll","docHeight","Math","max","document","body","scrollHeight","offsetHeight","getElementsByTagName","clientHeight","window","scrollY","innerHeight","addEventListener","removeEventListener","searchBar","val","map","key","defaultProps","Home","Favourites","ids","NavBar","to","App","path","exact","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ca479a46.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction IconStar(props) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"24\"\r\n      height=\"24\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill='currentColor'\r\n      {...props}\r\n    >\r\n      <path fill=\"none\" d=\"M0 0h24v24H0z\"></path>\r\n      <path fill=\"none\" d=\"M0 0h24v24H0z\"></path>\r\n      <path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"></path>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default IconStar;","const KEY = 'favouriteBeers';\r\nexport const getFavouriteBeers = (transformToArray) => {\r\n  const beers = localStorage.getItem(KEY) || '';\r\n\r\n  if(transformToArray)\r\n    return beers.split('|') || []\r\n\r\n  return beers\r\n}\r\n\r\nexport const updateFavouriteBeers = (beersArray) => {\r\n  const params = beersArray.filter(beer => beer.toString().trim()).join('|');\r\n  return localStorage.setItem(KEY, params)\r\n}\r\n\r\nexport const addBeerToFavourite = (id) => {\r\n  const beerList = getFavouriteBeers(true)\r\n\r\n  beerList.push(id)\r\n\r\n  updateFavouriteBeers(beerList)\r\n}\r\n\r\nexport const removeBeerFromFavourite = (id) => {\r\n  let beerList = getFavouriteBeers(true)\r\n\r\n  beerList = beerList.filter(beer => {\r\n    return +beer !== id\r\n  })\r\n\r\n  updateFavouriteBeers(beerList)\r\n}\r\n\r\nexport const checkIfBeerIsInFavourite = (id) => {\r\n  const beerList = getFavouriteBeers(true)\r\n\r\n  return beerList.includes(id.toString())\r\n}\r\n\r\nexport const toggleBeerInFavourite = (id) => {\r\n  checkIfBeerIsInFavourite(id) ? removeBeerFromFavourite(id) : addBeerToFavourite(id)\r\n}\r\n","import React from 'react';\r\nimport './BeerPreview.scss';\r\nimport IconStar from './IconStar';\r\nimport { toggleBeerInFavourite, checkIfBeerIsInFavourite } from '../helpers/favourites'\r\n\r\nclass BeerPreview extends React.Component {\r\n  state = { \r\n    ready: false, \r\n    favourite: checkIfBeerIsInFavourite(this.props.id) \r\n  };\r\n\r\n  handleFavouritesClick = (id) => {\r\n    toggleBeerInFavourite(id)\r\n    this.setState({ favourite: !this.state.favourite })\r\n  }\r\n\r\n  render() {\r\n    const { image_url, name, description, id } = this.props;\r\n    const { favourite } = this.state;\r\n\r\n    return (\r\n      <div className=\"beer-container\">\r\n        <div className=\"beer-img-container\">\r\n          <img src={image_url} alt={name} />\r\n        </div>\r\n        <div className=\"beer-description\">\r\n          <h2>{name}</h2>\r\n          <p>{description}</p>\r\n        </div>\r\n        <button className={`btn favourite-btn ${favourite ? 'check' : ''}`} onClick={() => this.handleFavouritesClick(id)}>\r\n          <IconStar />\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BeerPreview;","import React from 'react';\r\nimport './SearchBar.scss';\r\n\r\nclass SearchBar extends React.Component {\r\n  render() {\r\n    const { search, onSubmit, updateSearch } = this.props;\r\n    return (\r\n      <div className=\"search-bar-container container section\">\r\n        <form onSubmit={onSubmit}>\r\n          <input type=\"text\" id=\"input-search\" placeholder=\"Search a beer\" value={search} onChange={e => updateSearch(e.target.value)} />\r\n          <input type=\"submit\" value=\"Search\"/>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchBar;","import React from 'react';\r\nimport BeerPreview from './BeerPreview';\r\nimport SearchBar from './SearchBar';\r\nimport './BeerList.scss';\r\n\r\nclass BeerList extends React.Component {\r\n  state = {\r\n    ready: false,\r\n    data: [],\r\n    page: 1,\r\n    search: ''\r\n  };\r\n\r\n  disableScroll = false;\r\n\r\n  componentDidMount() {\r\n    this.getBeerList()\r\n    window.addEventListener('scroll', this.handleScroll)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // remove listeners after unmount\r\n    window.removeEventListener('scroll', this.handleScroll)\r\n  }\r\n\r\n  getBeerList = async () => {\r\n    this.disableScroll = true\r\n\r\n    const {\r\n      page,\r\n      data,\r\n      search\r\n    } = this.state\r\n\r\n    const beerURL = `https://api.punkapi.com/v2/beers`;\r\n\r\n    let queryObject = {\r\n      ...this.props.query,\r\n      beer_name: search.replace(' ', '_') || undefined,\r\n      page,\r\n      per_page: 15,\r\n    }\r\n\r\n    queryObject = JSON.parse(JSON.stringify(queryObject))\r\n\r\n    const queryParams = new URLSearchParams(queryObject).toString();\r\n\r\n    this.setState({ready: false})\r\n\r\n    const beerList = await fetch(`${beerURL}?${queryParams}`)\r\n      .then(response => response.json());\r\n\r\n    this.setState({\r\n      ready: true,\r\n      data: [...data, ...beerList],\r\n      page: page + 1\r\n    }, () => this.disableScroll = false);\r\n  }\r\n\r\n  onSearchSubmit = (e) => {\r\n    // this.getBeerList executes after this.setSTate has finished\r\n    e.preventDefault();\r\n    this.setState({ready: false, data: [], page: 1}, this.getBeerList)\r\n  }\r\n\r\n  handleScroll = () => {\r\n    if (this.disableScroll)\r\n      return\r\n\r\n    let docHeight = Math.max(document.body.scrollHeight, document.body.offsetHeight,\r\n      document.getElementsByTagName('html')[0].clientHeight, document.getElementsByTagName('html')[0].scrollHeight, document.getElementsByTagName('html')[0].offsetHeight)\r\n\r\n    if (window.scrollY + window.innerHeight === docHeight) {\r\n      this.getBeerList()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data, search } = this.state\r\n\r\n    return (\r\n      <>\r\n        { this.props.searchBar && <SearchBar search={search} updateSearch={(val) => this.setState({search: val})} onSubmit={this.onSearchSubmit} /> }\r\n        <div className=\"beer-list-container container section\">\r\n          {data.map(beer => <BeerPreview key={beer.id} {...beer} />)}\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nBeerList.defaultProps = { searchBar: true };\r\nexport default BeerList;","import React from 'react';\r\nimport BeerList from '../components/BeerList';\r\n\r\nclass Home extends React.Component {\r\n  render() {\r\n    return (\r\n      <BeerList />\r\n    )\r\n  }\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport BeerList from '../components/BeerList';\r\nimport { getFavouriteBeers } from '../helpers/favourites'\r\n\r\nclass Favourites extends React.Component {\r\n  render() {\r\n    return (\r\n      <BeerList searchBar={false} query={{ids: getFavouriteBeers()}} />\r\n    )\r\n  }\r\n}\r\n\r\nexport default Favourites;","import React from 'react';\r\nimport './NavBar.scss';\r\nimport { NavLink, Link } from 'react-router-dom';\r\n\r\nclass NavBar extends React.Component {\r\n  render() {\r\n    return (\r\n      <nav className=\"nav-bar-container\">\r\n        <div className=\"nav container\">\r\n          <div className=\"logo\">\r\n            <h1><Link to=\"/demo-project\">Beans Love Beers</Link></h1>\r\n          </div>\r\n          <ul>\r\n            <li><NavLink to=\"/demo-project\">Home</NavLink></li>\r\n            <li><NavLink to=\"/demo-project/favourites\">Favourites</NavLink></li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NavBar;","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport React from 'react';\nimport Home from './views/Home';\nimport Favourites from './views/Favourites';\nimport NavBar from './components/NavBar';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport './App.scss';\n\nfunction App() {\n  return (\n    <Router>\n      <NavBar />\n      <Switch>\n        <Route path=\"/demo-project/favourites\" exact component={Favourites} />\n        <Route path=\"/demo-project/\" exact component={Home} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}