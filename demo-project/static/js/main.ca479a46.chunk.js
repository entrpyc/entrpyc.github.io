(this.webpackJsonpbeer=this.webpackJsonpbeer||[]).push([[0],{191:function(e,t,a){e.exports=a(397)},388:function(e,t,a){},389:function(e,t,a){},390:function(e,t,a){},391:function(e,t,a){},396:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(188),o=a.n(c),i=(a(196),a(205),a(30)),l=a(31),u=a(33),s=a(32),m=a(119),p=a.n(m),h=a(122),f=a(123),d=a(189);a(388);var v=function(e){return r.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},e),r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.a.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}))},b="favouriteBeers",g=function(e){var t=localStorage.getItem(b)||"";return e?t.split("|")||[]:t},E=function(e){var t=e.filter((function(e){return e.toString().trim()})).join("|");return localStorage.setItem(b,t)},j=function(e){return g(!0).includes(e.toString())},y=function(e){j(e)?function(e){var t=g(!0);t=t.filter((function(t){return+t!==e})),E(t)}(e):function(e){var t=g(!0);t.push(e),E(t)}(e)},O=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={ready:!1,favourite:j(e.props.id)},e.handleFavouritesClick=function(t){y(t),e.setState({favourite:!e.state.favourite})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.image_url,n=t.name,c=t.description,o=t.id,i=this.state.favourite;return r.a.createElement("div",{className:"beer-container"},r.a.createElement("div",{className:"beer-img-container"},r.a.createElement("img",{src:a,alt:n})),r.a.createElement("div",{className:"beer-description"},r.a.createElement("h2",null,n),r.a.createElement("p",null,c)),r.a.createElement("button",{className:"btn favourite-btn ".concat(i?"check":""),onClick:function(){return e.handleFavouritesClick(o)}},r.a.createElement(v,null)))}}]),a}(r.a.Component),S=(a(389),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.search,a=e.onSubmit,n=e.updateSearch;return r.a.createElement("div",{className:"search-bar-container container section"},r.a.createElement("form",{onSubmit:a},r.a.createElement("input",{type:"text",id:"input-search",placeholder:"Search a beer",value:t,onChange:function(e){return n(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Search"})))}}]),a}(r.a.Component)),w=(a(390),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={ready:!1,data:[],page:1,search:""},e.disableScroll=!1,e.getBeerList=Object(d.a)(p.a.mark((function t(){var a,n,r,c,o,i,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.disableScroll=!0,a=e.state,n=a.page,r=a.data,c=a.search,"https://api.punkapi.com/v2/beers",o=Object(f.a)(Object(f.a)({},e.props.query),{},{beer_name:c.replace(" ","_")||void 0,page:n,per_page:15}),o=JSON.parse(JSON.stringify(o)),i=new URLSearchParams(o).toString(),e.setState({ready:!1}),t.next=9,fetch("".concat("https://api.punkapi.com/v2/beers","?").concat(i)).then((function(e){return e.json()}));case 9:l=t.sent,e.setState({ready:!0,data:[].concat(Object(h.a)(r),Object(h.a)(l)),page:n+1},(function(){return e.disableScroll=!1}));case 11:case"end":return t.stop()}}),t)}))),e.onSearchSubmit=function(t){t.preventDefault(),e.setState({ready:!1,data:[],page:1},e.getBeerList)},e.handleScroll=function(){if(!e.disableScroll){var t=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.getElementsByTagName("html")[0].clientHeight,document.getElementsByTagName("html")[0].scrollHeight,document.getElementsByTagName("html")[0].offsetHeight);window.scrollY+window.innerHeight===t&&e.getBeerList()}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getBeerList(),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.search;return r.a.createElement(r.a.Fragment,null,this.props.searchBar&&r.a.createElement(S,{search:n,updateSearch:function(t){return e.setState({search:t})},onSubmit:this.onSearchSubmit}),r.a.createElement("div",{className:"beer-list-container container section"},a.map((function(e){return r.a.createElement(O,Object.assign({key:e.id},e))}))))}}]),a}(r.a.Component));w.defaultProps={searchBar:!0};var k=w,B=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(k,null)}}]),a}(r.a.Component),N=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(k,{searchBar:!1,query:{ids:g()}})}}]),a}(r.a.Component),L=(a(391),a(59)),C=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"nav-bar-container"},r.a.createElement("div",{className:"nav container"},r.a.createElement("div",{className:"logo"},r.a.createElement("h1",null,r.a.createElement(L.b,{to:"/demo-project"},"Beans Love Beers"))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(L.c,{to:"/demo-project"},"Home")),r.a.createElement("li",null,r.a.createElement(L.c,{to:"/demo-project/favourites"},"Favourites")))))}}]),a}(r.a.Component),x=a(13);a(396);var H=function(){return r.a.createElement(L.a,null,r.a.createElement(C,null),r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/demo-project/favourites",exact:!0,component:N}),r.a.createElement(x.a,{path:"/demo-project/",exact:!0,component:B})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.ca479a46.chunk.js.map